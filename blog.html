<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Business Autopilot ‚Äî Blog</title>
  <meta name="description" content="Daily AI-powered insights, AdSense tips, affiliate marketing strategies, and automation guides generated automatically by AI Business Autopilot." />
  <meta name="robots" content="index, follow" />
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/4712/4712139.png" type="image/png" />

  <style>
    :root {
      --brand: #0d47a1;
      --light: #f5f6fa;
      --text: #1e293b;
      --card: #ffffff;
      --shadow: rgba(0,0,0,0.08);
    }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: var(--light);
      color: var(--text);
      margin: 0;
    }
    header {
      background: var(--brand);
      color: #fff;
      text-align: center;
      padding: 30px 10px;
    }
    header a {
      color: #bbdefb;
      text-decoration: none;
      font-weight: bold;
    }
    main {
      max-width: 900px;
      margin: 30px auto;
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 6px 20px var(--shadow);
      padding: 25px;
    }
    article {
      border-bottom: 1px solid #e2e8f0;
      padding: 20px 0;
    }
    article:last-child { border-bottom: none; }
    h2 { color: var(--brand); margin-top: 0; }
    footer {
      text-align: center;
      background: var(--brand);
      color: white;
      padding: 25px 10px;
      margin-top: 40px;
    }
    .searchbar {
      text-align:center;
      margin-bottom:20px;
    }
    .searchbar input {
      width:80%;max-width:400px;
      padding:10px;border:1px solid #ccc;
      border-radius:6px;
    }
    .share-buttons a {
      margin-right: 8px;
      text-decoration: none;
      color: var(--brand);
      font-size: 14px;
    }
    #categoryBar, #pagination {
      text-align:center;margin:20px 0;
    }
    #categoryBar button, #pagination button {
      margin:4px;padding:6px 10px;
      border-radius:6px;border:1px solid var(--brand);
      background:#fff;color:var(--brand);
      cursor:pointer;
      transition:0.2s;
    }
    #categoryBar button.active, #pagination button.active {
      background:var(--brand);color:#fff;
    }
    .rss {
      display:block;text-align:center;margin-top:20px;
      font-weight:bold;color:var(--brand);
    }
  </style>
</head>

<body>
  <header>
    <h1>üì∞ AI Business Autopilot Blog</h1>
    <p>AI-generated business & automation insights ‚Äî updated daily</p>
    <a href="index.html">‚¨Ö Back to Dashboard</a>
  </header>

  <main>
    <div class="searchbar">
      <input id="searchBox" type="text" placeholder="üîç Search articles...">
    </div>

    <div id="categoryBar"></div>
    <div id="blogContainer"><h2>Loading articles...</h2></div>
    <div id="pagination"></div>
  </main>

  <footer>
    <p>¬© 2025 Travel in UK Ltd | Auto-generated by AI Business Autopilot</p>
  </footer>

  <script>
    // üîß Replace these with your own JSONBin credentials
    const BIN_ID = "690fef86d0ea881f40dc9c47";
    const API_KEY = "$2a$10$9VHwd0ZuwZfL3JrUPh0qF.8VxdyJiEnd3Dlkv/Ui2VH8IB8AWrMl6";
    const BIN_URL = `https://api.jsonbin.io/v3/b/${BIN_ID}/latest`;

    const perPage = 10;
    let currentPage = 1;
    let allPosts = [];
    let activeCategory = "All";

    async function loadBlogPosts() {
      try {
        const res = await fetch(BIN_URL, { headers: { "X-Master-Key": API_KEY } });
        const data = await res.json();
        allPosts = data.record.blogs || [];
        renderCategories();
        renderPage(1);
      } catch (err) {
        document.getElementById("blogContainer").innerHTML = "<p>Error loading posts.</p>";
      }
    }

    function renderCategories() {
      const bar = document.getElementById("categoryBar");
      bar.innerHTML = "";
      const categories = ["All"];
      allPosts.forEach(p => {
        const t = p.topic.toLowerCase();
        if (t.includes("adsense") && !categories.includes("AdSense")) categories.push("AdSense");
        if (t.includes("affiliate") && !categories.includes("Affiliate")) categories.push("Affiliate");
        if (t.includes("seo") && !categories.includes("SEO")) categories.push("SEO");
        if (t.includes("automation") && !categories.includes("Automation")) categories.push("Automation");
        if (t.includes("travel") && !categories.includes("Travel")) categories.push("Travel");
      });
      categories.forEach(cat => {
        const btn = document.createElement("button");
        btn.textContent = cat;
        if (cat === activeCategory) btn.classList.add("active");
        btn.addEventListener("click", () => {
          activeCategory = cat;
          renderPage(1);
          renderCategories();
        });
        bar.appendChild(btn);
      });
    }

    function renderPage(page) {
      currentPage = page;
      let posts = [...allPosts];
      if (activeCategory !== "All") {
        posts = posts.filter(p => p.topic.includes(activeCategory));
      }
      const start = (page - 1) * perPage;
      const visible = posts.slice(start, start + perPage);
      const container = document.getElementById("blogContainer");
      container.innerHTML = "";

      if (!visible.length) {
        container.innerHTML = "<p>No articles found.</p>";
        document.getElementById("pagination").innerHTML = "";
        return;
      }

      visible.forEach(p => {
        const art = document.createElement("article");
        art.innerHTML = `
          ${p.content}
          <div class="share-buttons">
            <a href="https://twitter.com/intent/tweet?text=${encodeURIComponent(p.topic)}&url=${encodeURIComponent(window.location.href)}" target="_blank">üê¶ Tweet</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}" target="_blank">üìò Share</a>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(window.location.href)}&title=${encodeURIComponent(p.topic)}" target="_blank">üíº LinkedIn</a>
          </div>`;
        container.appendChild(art);
      });

      renderPagination(posts.length);
    }

    function renderPagination(total) {
      const pages = Math.ceil(total / perPage);
      const pag = document.getElementById("pagination");
      pag.innerHTML = "";
      for (let i = 1; i <= pages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        if (i === currentPage) btn.classList.add("active");
        btn.addEventListener("click", () => renderPage(i));
        pag.appendChild(btn);
      }
    }

    document.getElementById("searchBox").addEventListener("input", e => {
      const term = e.target.value.toLowerCase();
      const filtered = allPosts.filter(p =>
        p.topic.toLowerCase().includes(term) || p.content.toLowerCase().includes(term)
      );
      const container = document.getElementById("blogContainer");
      container.innerHTML = "";
      filtered.slice(0, perPage).forEach(p => {
        const art = document.createElement("article");
        art.innerHTML = p.content;
        container.appendChild(art);
      });
      document.getElementById("pagination").innerHTML = "";
    });

    loadBlogPosts();
  </script>
</body>
</html>
